Menu="Utilities"
Icon="gpustat.png"
Title="GPU Statistics"
---
<?php
    $gpustat_cfg        = parse_plugin_cfg("gpustat", true);
    $gpustat_inventory  = true;

    include_once './plugins/gpustat/gpustatus.php';
?>

<b>GPU Statistics</b>
<form markdown="1" method="POST" action="/update.php" target="progressFrame">
  <input type="hidden" name="#file" value="gpustat/gpustat.cfg" />

Vendor:
: <select id="VENDOR" name="VENDOR" size="1">
    <?=mk_option($gpustat_cfg['VENDOR'], "nvidia", "NVIDIA");?>
    <?=mk_option($gpustat_cfg['VENDOR'], "intel", "Intel");?>
  </select>

Unit ID for Dashboard:
: <select id="GPUID" name="GPUID" size="1">
    <?php
        if (isset($gpustat_data)) {
            foreach ($gpustat_data AS $gpu) {
                $gpudesc = $gpu['id'] . ': ' . $gpu['model'] . ' - ' . $gpu['guid'];
                printf(mk_option($gpustat_cfg['GPUID'], $gpu['id'], $gpudesc));
            }
        }
    ?>
</select>

Temperature Format:
: <select id="TEMPFORMAT" name="TEMPFORMAT" size="1">
    <?=mk_option($gpustat_cfg['TEMPFORMAT'], "C", "Celsius");?>
    <?=mk_option($gpustat_cfg['TEMPFORMAT'], "F", "Fahrenheit");?>
  </select>

  <input id="DEFAULT" class="stopped" type="submit" value="Default" onClick="resetDATA(this.form)">
: <input id="btnApply" type="submit" value="Apply"><input type="button" value="Done" onClick="done()">
</form>

<script type="text/javascript">
function resetDATA(form) {
    form.VENDOR.value = "nvidia";
    form.TEMPFORMAT.value = "C";
    form.GPUID.value = "0";
}
</script>
